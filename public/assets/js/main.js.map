{
version: 3,
file: "bundle.js",
sources: [
"/Users/max.rolon/Sites/CHD_08/node_modules/grunt-browserify/node_modules/browserify/node_modules/browser-pack/_prelude.js",
"/Users/max.rolon/Sites/CHD_08/src/js/app.js",
"/Users/max.rolon/Sites/CHD_08/src/js/util.js",
"/Users/max.rolon/Sites/CHD_08/src/js/outer-context.js",
"/Users/max.rolon/Sites/CHD_08/src/js/ui.js",
"/Users/max.rolon/Sites/CHD_08/src/js/article.js",
"/Users/max.rolon/Sites/CHD_08/src/js/form.js"
],
names: [
"w",
"window",
"FF",
"debug",
"useMock",
"mockData",
"tnum",
"url",
"mockResponse",
"template",
"content",
"type",
"$",
"require",
"util",
"init",
"this",
"events",
"on",
"triggerUtil",
"bind",
"rangeslider",
"polyfill",
"OuterContext",
"ext",
"isExt",
"chrome",
"runtime",
"onMessage",
"addListener",
"messageHandler",
"setTimeout",
"request",
"event",
"visible",
"trigger",
"button",
"article",
"ui",
"preparePage",
"getUITemplate",
"show",
"hide",
"$page",
"wrapInner",
"extension",
"getURL",
"get",
"storeTemplate",
"d",
"$template",
"insertAfter",
"setAnimations",
"templateReady",
"animation",
"TimelineMax",
"pause",
"to",
"x",
"ease",
"Bounce",
"easeOut",
"wait",
"timer",
"setInterval",
"clearInterval",
"toggle",
"isActive",
"timeScale",
"play",
"reverse",
"Article",
"slideshowIterator",
"imageLoadAmount",
"allImagesLoaded",
"$images",
"isPostLoad",
"remove",
"renderStart",
"e",
"$active",
"data",
"JSON",
"parse",
"t",
"Number",
"cacheTemplate",
"render",
"imgI",
"$content",
"find",
"prop",
"obj",
"$el",
"append",
"html",
"img",
"div",
"imageLoaded",
"templateA",
"templateB",
"length",
"setTimer",
"slideshow",
"eq",
"addClass",
"not",
"removeClass",
"clearTimer",
"Form",
"submit",
"preventDefault",
"handleRanges",
"getUrl",
"message",
"console",
"dir",
"sendMessage",
"values",
"$r",
"each",
"v",
"val",
"Math",
"round",
"attr",
"s",
"location",
"href"
],
mappings: "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",
sourcesContent: [
"(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
"var w = window; var FF = w.FF = {}; FF.debug = true; FF.useMock = true; FF.mockData = { tnum: 1, url: "http://www.huffingtonpost.com/2015/05/13/amtrak-crash-speed-limit_n_7276902.html" } FF.mockResponse = {"template":1,"content":[{"type":"text","content":"ASSOCIATED PRESS\n \n \n \t\t \n An Amtrak train that derailed in Philadelphia on Tuesday night had been going over 100 mph before the crash, the National Transportation Safety Board announced on Wednesday -- more than twice the legal speed limit.Sources familiar with the investigation of the crash told The Wall Street Journal that the train hit a sharp curve and failed to slow down"},{"type":"image","content":"http://media2.giphy.com/media/FOwqXrc38glPO/200.gif"},{"type":"image","content":"https://i.vimeocdn.com/channel/196544_980?mh=250"},{"type":"image","content":"http://media3.giphy.com/media/lNwtH9yTWONW/200.gif"},{"type":"image","content":"https://i.vimeocdn.com/channel/196544_980?mh=250"},{"type":"image","content":"http://www.pbs.org/newshour/wp-content/uploads/2014/06/148123164.jpg"},{"type":"text","content":" Officialsfamiliar with the crash also confirmed this to Reuters on Wednesday"},{"type":"image","content":"http://www.thepca.org/wp-content/uploads/2009/12/January-2011-Newsletter.jpg"},{"type":"image","content":"http://media3.giphy.com/media/d8nTTQ5QxCJvG/200.gif"},{"type":"image","content":"http://media0.giphy.com/media/S0fijaOA7fbfW/200.gif"},{"type":"image","content":"http://media0.giphy.com/media/J4SymBQ8QAFYQ/200.gif"},{"type":"image","content":"http://www.thepca.org/wp-content/uploads/2009/12/January-2011-Newsletter.jpg"},{"type":"text","content":" Speeding has been the cause of several majortrain crashes in recent years"},{"type":"image","content":"http://media1.giphy.com/media/d8nTTQ5QxCJvG/200.gif"},{"type":"image","content":"http://www.gannett-cdn.com/-mm-/0dcd2de70c10c28aab093f5f679e435332de36ec/c=0-107-3578-2128&r=x1683&c=3200x1680/local/-/media/2015/05/12/Wilmington/Wilmington/635670714206452298-APTOPIX-Amtrak-Crash.jpg"},{"type":"image","content":"http://s1.ibtimes.com/sites/www.ibtimes.com/files/styles/v2_article_large/public/2013/05/17/metro-north_railroad_collision-may_17_2013.jpg?itok=70igz5no"},{"type":"image","content":"http://media3.giphy.com/media/lNwtH9yTWONW/200.gif"},{"type":"image","content":"http://media3.giphy.com/media/d8nTTQ5QxCJvG/200.gif"}]} $(function(){ require('./util'); require('./outer-context'); require('./ui'); require('./article'); require('./form'); }); ",
"(function(w){ var util = { init:function(){ this.events(); }, events:function(){ $('body') .on('ui-ready',this.triggerUtil.bind(this)); }, triggerUtil:function(){ this.rangeslider(); }, rangeslider:function(){ $('[type="range"]').rangeslider({ polyfill: false }); } }; util.init(); })(window);",
"(function(w){ var OuterContext = { /* * Init stuff * @params void * @returns void */ init:function(){ w.FF.ext = this.isExt(); this.events(); }, /* * Declare event handlers * @params void * @returns void */ events:function(){ if (w.FF.ext){ chrome.runtime.onMessage.addListener(this.messageHandler.bind(this)); } else { setTimeout(this.messageHandler.bind(this),200); } }, /* * Determines is this script has been called * as part of an extension or statically * for development purposes * @param void * @returns void */ isExt:function(){ if (chrome && chrome.runtime.onMessage){ return true; } return false; }, /* * Handles all messages from the outer context * @param	mixed the message send from the outer context * @returns void */ messageHandler:function(request){ //Just pretending for dev purposes if (!request){ var event = window.FF.visible ? 'ex-hide' : 'ex-show'; $('body').trigger(event); return; //Extension button click related } else if (request.button){ var event = window.FF.visible ? 'ex-hide' : 'ex-show'; $('body').trigger(event); //End of XHR } else if (request.article){ $('body').trigger('article-data-ready',[request.article]); } } }; OuterContext.init(); })(window);",
"(function(w){ var ui = { /* * Init stuff * @params void * @returns void */ init:function(){ this.preparePage(); this.getUITemplate(); this.events(); }, events:function(){ $('body') .on('ex-show',this.show.bind(this)) .on('ex-hide',this.hide.bind(this)); }, preparePage:function(){ this.$page = $('body').wrapInner('<div class="FF_bodywrap"></div>');	}, getUITemplate:function(){ var url; if (w.FF.ext){ url = chrome.extension.getURL("templates/ui.html"); } else { url = 'templates/ui.html'; } $.get(url,this.storeTemplate.bind(this)); }, storeTemplate:function(d){ this.$template = $(d); this.$template.insertAfter('.FF_bodywrap'); $('body').trigger('ui-ready'); this.setAnimations(); this.templateReady = true; }, setAnimations:function(){ this.animation = new TimelineMax() .pause() .to(this.$template, 2,{x:0,ease: Bounce.easeOut}); }, wait:function(){ this.timer = setInterval(function(){ if (this.templateReady){ this.show(); clearInterval(this.timer); } }.bind(this), 100);	}, toggle:function(){ window.FF.visible = window.FF.visible ? false : true;	}, show:function(){ if (!this.templateReady){ this.wait(); return; } if (this.animation.isActive()) return; this.toggle(); this.animation.timeScale(1).play(0); }, hide:function(){ if (this.animation.isActive()) return; this.toggle(); this.animation.timeScale(0.7).reverse(0); } }; ui.init(); })(window);",
"(function(w){ var Article = { /* * Init Stuff * @params void * @returns void */ init:function(){ this.slideshowIterator = 0; this.imageLoadAmount = 0; this.allImagesLoaded = false; this.$images = [], this.events(); }, /* * Declare event handlers * @param boolean is this function getting called post init? * @returns void */ events:function(isPostLoad){ // Has to wait until the template is loaded if (isPostLoad){ $('#FF_Article') .on('click','.exit',this.remove.bind(this)); } else { $('body') .on('article-data-ready',this.renderStart.bind(this)); } }, /* * Do the preparation to get the response rendered to * the page! Acknowledge that the XHR request ended. * @param obj event object * @param obj data recieved from the endpoint * @returns void */ renderStart:function(e,d){ $('body').trigger('ex-hide'); $('#FF_UI .loader').hide(); // Is there a template on the page already? if (this.$active){ this.$active.remove(); this.$active = false; } // Use the real response or the mock? if (w.FF.useMock){ this.data = w.FF.mockResponse } else { this.data = JSON.parse(d); } //Decide which template variant to use this.type = t = Number(this.data.template) <= 2 ? 'a' : 'b'; //If we have already fetched the template file.. if (this['template_'+t]){ this.cacheTemplate(); return; } //Which URL to fetch (Are we in dev mode?) if (w.FF.ext){ url = chrome.extension.getURL("templates/template-"+t+".html"); } else { url = "templates/template-"+t+".html"; } //Love a bit of AJAX $.get(url,this.cacheTemplate.bind(this)); }, /* * Do the preparation to get the response rendered to * the page! Acknowledge that the XHR request ended. * @param obj data from XHR response * @returns void */ cacheTemplate:function(d){ //Cache a reference to the template HTML (raw) if (d && !this['template_'+this.type]){ this['template_'+this.type] = d || ''; } //Get some DOM action this.render(); }, /* * Render the template to the page! * @params	void * @returns	void */ render:function(){ //Reset necessary iterators etc var imgI = 1; this.imageLoadAmount = 0; this.allImagesLoaded = false; var t = this['template_'+this.type]; this.$active = $(t).insertAfter('.FF_bodywrap'); this.$content = this.$active.find('#FF__body'); for (prop in this.data.content){ var obj = this.data.content[prop]; //Handle text blocks if (obj.type == 'text'){ var $el = $('<p>'); this.$content.append($el.html(obj.content)); //Handle images } else if (obj.type == 'image'){ var img = '<img class="FF-image-'+imgI+'" src="'+obj.content+'">', div = '<div class="FF-image-'+imgI+'" style="background-image:url('+obj.content+')">', $el = $(div); $(img).on('load',this.imageLoaded.bind(this)); this.$content.append(div); imgI++; } } switch (this.type){ case 'a': this.templateA(); break; case 'b': this.templateB(); break; } this.events(true); }, /* * Register how many images have loaded * to the page */ imageLoaded:function(){ this.imageLoadAmount++; this.$images = this.$content.find('div[class^=FF-image]'); if (this.imageLoadAmount >= this.$images.length){ this.setTimer(); } }, /* * TEMPLATE A * Get into specifics on a per template basis * @params	void * @returns	void */ templateA:function(){}, /* * TEMPLATE B * Get into specifics on a per template basis * @params	void * @returns	void */ templateB:function(){ this.$images = this.$content.find('div[class^=FF-image]'); }, /* * Iterate over each of the images * Changing the display prop of each */ slideshow:function(){ this.$images.eq(this.slideshowIterator).addClass('visible') //Allows it to go infinitely if (this.slideshowIterator >= this.$images.length){ this.$images.not(':first-child').removeClass('visible'); this.slideshowIterator = 0; return; } this.slideshowIterator++; }, /* * Lovely ol' timer */ setTimer: function(){ this.timer = setInterval(this.slideshow.bind(this),200) }, /* * Lovely ol' timer */ clearTimer: function(){ clearInterval(this.timer); }, /* * Remove template from el pago * and hide the extension UI * @params	void * @returns	void */ remove:function(){ this.clearTimer(); this.$active.remove(); } }; Article.init(); })(window);",
"(function(w){ var Form = { /* Just Init * @param void * @returns void */ init:function(){ this.data = {}; this.events(); }, /* Call any events we need to listen out for * @param boolean is this function getting called post init? * @returns void */ events:function(isPostLoad){ if (isPostLoad){ this.$el = $('#FF_UI form'); this.$el.on('submit',this.submit.bind(this)); } else { $('body').on('ui-ready',this.events.bind(this,true)); } }, /* Handle the submit of the form * The backbone of the submission process * @param obj event object * @returns void */ submit:function(e){ e.preventDefault(); this.handleRanges(); this.getUrl(); if (w.FF.debug){ //Bypass the whole XHR thing $('body').trigger('article-data-ready'); } else { var message = {}; message['data'] = w.FF.useMock ? w.FF.mockData : this.data; $('#FF_UI .loader').show(); console.dir(message); //Init XHR in other context chrome.runtime.sendMessage(message); } return false; }, /* Get range values which will determine the template * number to send to endpoint. Changes this.data as * apposet to returning value * @param void * @returns void */ handleRanges:function(){ var values = {}; $r = this.$el.find('[type="range"]'); $r.each(function(){ var v = $(this).val(); v = Math.round(v/1000); values[$(this).attr('name')] = v; }); var t = values['time'], s = values['seriousness']; if (t && s){ this.data['tnum'] = 1; } else if (t && !s){ this.data['tnum'] = 2; } else if (!t && !s){ this.data['tnum'] = 3; } else { this.data['tnum'] = 4; } window.FF.template = this.data['tnum']; }, /* Get the URL of the page * @param void * @returns void */ getUrl:function(){ this.data['url'] = window.location.href; } }; Form.init(); })(window);"
]
}