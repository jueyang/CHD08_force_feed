{"version":3,"file":"bundle.js","sources":["/Users/gary.to/Sites/CHD_08/node_modules/grunt-browserify/node_modules/browserify/node_modules/browser-pack/_prelude.js","/Users/gary.to/Sites/CHD_08/src/js/app.js","/Users/gary.to/Sites/CHD_08/src/js/util.js","/Users/gary.to/Sites/CHD_08/src/js/outer-context.js","/Users/gary.to/Sites/CHD_08/src/js/article.js","/Users/gary.to/Sites/CHD_08/src/js/ui.js","/Users/gary.to/Sites/CHD_08/src/js/form.js"],"names":["w","window","FF","debug","$","require","util","init","this","events","on","triggerUtil","bind","rangeslider","polyfill","OuterContext","ext","isExt","chrome","runtime","onMessage","addListener","button","setTimeout","request","sender","sendResponse","article","trigger","event","visible","Article","prepare","e","d","data","type","t","Number","template","storeTemplate","url","extension","getURL","get","replace","ui","preparePage","getUITemplate","show","hide","$page","wrapInner","$template","insertAfter","setAnimations","templateReady","animation","TimelineMax","pause","to","x","wait","timer","setInterval","clearInterval","isActive","play","reverse","Form","$el","submit","handleRanges","getUrl","handleResponse","call","sendMessage","values","$r","find","each","v","val","Math","round","attr","s"],"mappings":"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","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var w = window;\n\nw.FF = {};\n\nw.FF.debug = false;\n\n$(function(){\n\trequire('./util');\n\trequire('./outer-context');\n\trequire('./ui');\n\trequire('./article');\n\trequire('./form');\n});\n","(function(w){\n\tvar util = {\n\t\tinit:function(){\n\t\t\tthis.events();\n\t\t},\n\t\tevents:function(){\n\t\t\t$('body')\n\t\t\t\t.on('ui-ready',this.triggerUtil.bind(this));\n\t\t},\n\t\ttriggerUtil:function(){\n\t\t\tthis.rangeslider();\n\t\t},\n\t\trangeslider:function(){\n\t\t\t$('[type=\"range\"]').rangeslider({\n\t\t    polyfill: false\n\t\t  });\n\t\t}\n\t};\n\t\n\tutil.init();\n\t\n})(window);","(function(w){\n\tvar OuterContext = {\n\t\t\n\t\t/*\n\t\t * Init stuff\n\t\t * @params void\n\t\t * @returns void\n\t\t */\n\t\tinit:function(){\n\t\t\tw.FF.ext = this.isExt();\n\t\t\tthis.events();\n\t\t},\n\t\tisExt:function(){\n\t\t\tif (chrome && chrome.runtime.onMessage){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tevents:function(){\n\t\t\tif (w.FF.ext){\n\t\t\t\tchrome.runtime.onMessage.addListener(this.button.bind(this));\n\t\t\t} else {\n\t\t\t\tsetTimeout(this.button.bind(this),500);\n\t\t\t}\n\t\t},\n\t\tbutton:function(request, sender, sendResponse){\n\t\t\tif (request.article){\n\t\t\t\t$('body').trigger('article-data-ready',[request.article]);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar event = window.FF.visible ? 'ex-hide' : 'ex-show';\n\t\t\twindow.FF.visible = window.FF.visible ? false : true;\n\t\t\t$('body').trigger(event);\n\t\t}\n\t};\n\t\n\tOuterContext.init();\n\t\n})(window);","(function(w){\n\tvar Article = {\n\t\tinit:function(){\n\t\t\tthis.events();\n\t\t},\n\t\tevents:function(){\n\t\t\t$('body').on('article-data-ready',this.prepare.bind(this));\n\t\t},\n\t\tprepare:function(e,d){\n\t\t\t//d =\n\t\t\tthis.data = d;\n\t\t\tthis.type = t = Number(d.template) <= 2 ? 'a' : 'b';\n\t\t\t\n\t\t\tif (this['template_'+t]){\n\t\t\t\tthis.storeTemplate();\n\t\t\t\treturn;\n\t\t\t} \n\t\t\t\n\t\t\tif (w.FF.ext){\n\t\t\t\turl = chrome.extension.getURL(\"templates/template-\"+t+\".html\");\n\t\t\t} else {\n\t\t\t\turl = \"templates/template-\"+t+\".html\";\n\t\t\t}\n\t\t\t\n\t\t\t$.get(url,this.storeTemplate.bind(this));\n\t\t},\n\t\tstoreTemplate:function(d){\n\t\t\tif (!this['template_'+this.type]){\n\t\t\t\tthis['template_'+this.type] = d || '';\n\t\t\t}\n\t\t\tthis.replace();\n\t\t},\n\t\treplace:function(){\n\t\t   var t = this['template_'+this.type];\n\t\t}\n\t};\n\t\n\tArticle.init();\n\t\n})(window);","(function(w){\n\tvar ui = {\n\t\t\n\t\t/*\n\t\t * Init stuff\n\t\t * @params void\n\t\t * @returns void\n\t\t */\n\t\tinit:function(){\n\t\t\tthis.preparePage();\n\t\t\tthis.getUITemplate();\n\t\t\tthis.events();\n\t\t},\n\t\tevents:function(){\n\t\t\t$('body')\n\t\t\t\t.on('ex-show',this.show.bind(this))\n\t\t\t\t.on('ex-hide',this.hide.bind(this));\n\t\t},\n\t\tpreparePage:function(){\n\t\t\tthis.$page = $('body').wrapInner('<div class=\"FF_bodywrap\"></div>');\t\t},\n\t\tgetUITemplate:function(){\n\t\t\tvar url;\n\t\t\t\n\t\t\tif (w.FF.ext){\n\t\t\t\turl = chrome.extension.getURL(\"templates/ui.html\");\n\t\t\t} else {\n\t\t\t\turl = 'templates/ui.html';\n\t\t\t}\n\t\t\t$.get(url,this.storeTemplate.bind(this));\n\t\t},\n\t\tstoreTemplate:function(d){\n\t\t\tthis.$template = $(d);\n\t\t\tthis.$template.insertAfter('.FF_bodywrap');\n\t\t\t$('body').trigger('ui-ready');\n\t\t\tthis.setAnimations();\n\t\t\tthis.templateReady = true;\n\t\t},\n\t\tsetAnimations:function(){\n\t\t\tthis.animation = \n\t\t\tnew TimelineMax()\n\t\t\t.pause()\n\t\t\t.to(this.$template, 1,{x:0});\n\t\t\t\t\n\t\t},\n\t\twait:function(){\n\t\t\tthis.timer = setInterval(function(){\n\t\t\t\tif (this.templateReady){\n\t\t\t\t\tthis.show();\n\t\t\t\t\tclearInterval(this.timer);\n\t\t\t\t}\n\t\t\t}.bind(this), 100);\t\n\t\t},\n\t\tshow:function(){\n\t\t\tif (!this.templateReady){\n\t\t\t\tthis.wait();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.animation.isActive()) return;\n\t\t\tthis.animation.play(0);\n\t\t},\n\t\thide:function(){\n\t\t\tif (this.animation.isActive()) return;\n\t\t\tthis.animation.reverse(0);\n\t\t}\n\t};\n\t\n\tui.init();\n\t\n})(window);","(function(w){\n\tvar Form = {\n\t\tinit:function(){\n\t\t\tthis.data = {};\n\t\t\tthis.events();\n\t\t},\n\t\tevents:function(d){\n\t\t\tif (d){\n\t\t\t\tthis.$el = $('#FF_UI form');\n\t\t\t\tthis.$el.on('submit',this.submit.bind(this));\n\t\t\t} else {\n\t\t\t\t$('body').on('ui-ready',this.events.bind(this,'secondary'));\n\t\t\t}\n\t\t},\n\t\tsubmit:function(){\n\t\t\tthis.handleRanges();\n\t\t\tthis.getUrl();\n\t\t\t\n\t\t\tif (w.FF.debug){\n\t\t\t\tthis.handleResponse.call(this,{template:4});\n\t\t\t} else {\n\t\t\t\tchrome.runtime.sendMessage({data:this.data});\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\thandleRanges:function(){\n\t\t\tvar values = {};\n\t\t\t\n\t\t\t$r = this.$el.find('[type=\"range\"]');\n\t\t\t$r.each(function(){\n\t\t\t\tvar v = $(this).val();\n\t\t\t\tv = Math.round(v/1000);\n\t\t\t\tvalues[$(this).attr('name')] = v;\n\t\t\t});\n\t\t\t\n\t\t\tvar \n\t\t\t\tt = values['time'],\n\t\t\t\ts = values['seriousness'];\n\t\t\t\n\t\t\tif (t && s){\n\t\t\t\tthis.data['tnum'] = 1;\n\t\t\t} else if (t && !s){\n\t\t\t\tthis.data['tnum'] = 2;\n\t\t\t} else if (!t && !s){\n\t\t\t\tthis.data['tnum'] = 3;\n\t\t\t} else {\n\t\t\t\tthis.data['tnum'] = 4;\n\t\t\t}\n\t\t},\n\t\tgetUrl:function(){\n\t\t\t//this.data['url'] = window.location.href;\n\t\t\tthis.data['url'] = \"http://www.huffingtonpost.com/2015/05/13/amtrak-crash-speed-limit_n_7276902.html\"\n\t\t}\n\t};\n\t\n\tForm.init();\n\t\n})(window);"]}