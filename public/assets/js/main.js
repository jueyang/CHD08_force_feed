(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var w=window;w.FF={},w.FF.debug=!1,$(function(){require("./util"),require("./outer-context"),require("./ui"),require("./article"),require("./form")});
},{"./article":2,"./form":3,"./outer-context":4,"./ui":5,"./util":6}],2:[function(require,module,exports){
!function(e){var i={template:1,content:[{type:"text",content:""},{type:"image",content:"http://giphy.com/embed/USyGKhTSMhGdW"},{type:"image",content:"http://giphy.com/embed/USyGKhTSMhGdW"},{type:"image",content:"http://giphy.com/embed/USyGKhTSMhGdW"},{type:"image",content:"http://giphy.com/embed/USyGKhTSMhGdW"},{type:"image",content:"http://giphy.com/embed/USyGKhTSMhGdW"}]},n={init:function(){this.events()},events:function(t){"secondary"==t?$("#FF_Article").on("click",".exit",this.remove.bind(this)):$("body").on("article-data-ready",this.prepare.bind(this))},prepare:function(n,a){return $("#FF_UI .loader").hide(),this.$active&&(this.$active.remove(),this.$active=!1),e.FF.debug?this.data=i:this.data=JSON.parse(a),this.type=t=Number(this.data.template)<=2?"a":"b",this["template_"+t]?void this.storeTemplate():(e.FF.ext?url=chrome.extension.getURL("templates/template-"+t+".html"):url="templates/template-"+t+".html",void $.get(url,this.storeTemplate.bind(this)))},storeTemplate:function(t){this["template_"+this.type]||(this["template_"+this.type]=t||""),this.replace()},replace:function(){var t=this["template_"+this.type],e=this.$active=$(t).insertAfter(".FF_bodywrap"),i=e.find("#FF__body");for(p in this.data.content){var n=this.data.content[p];if("text"==n.type){$("<p>")}else if("image"==n.type){var a=$('<div class="image-gif">').css({backgroundImage:"url("+n.content+")"});i.append(a)}}$img=i.find(".image-gif");var h=this;setTimeout(function(){var t=0;h.timer=setInterval(function(){$img.eq(t).show(),t++,$img.eq(t)||($img.not(":first-child").hide(),t=0)},200)},2e3),this.events("secondary")},remove:function(){this.$active.remove(),$("body").trigger("ex-hide")}};n.init()}(window);
},{}],3:[function(require,module,exports){
!function(t){var i={init:function(){this.data={},this.events()},events:function(t){t?(this.$el=$("#FF_UI form"),this.$el.on("submit",this.submit.bind(this))):$("body").on("ui-ready",this.events.bind(this,"secondary"))},submit:function(i){return i.preventDefault(),this.handleRanges(),this.getUrl(),t.FF.debug?$("body").trigger("article-data-ready"):($("#FF_UI .loader").show(),chrome.runtime.sendMessage({data:this.data})),!1},handleRanges:function(){var t={};$r=this.$el.find('[type="range"]'),$r.each(function(){var i=$(this).val();i=Math.round(i/1e3),t[$(this).attr("name")]=i});var i=t.time,n=t.seriousness;i&&n?this.data.tnum=1:i&&!n?this.data.tnum=1:i||n?this.data.tnum=4:this.data.tnum=4,window.FF.template=this.data.tnum,this.data.tnum=4},getUrl:function(){this.data.url="http://www.huffingtonpost.com/2015/05/13/amtrak-crash-speed-limit_n_7276902.html"}};i.init()}(window);
},{}],4:[function(require,module,exports){
!function(t){var i={init:function(){t.FF.ext=this.isExt(),this.events()},isExt:function(){return chrome&&chrome.runtime.onMessage?!0:!1},events:function(){t.FF.ext?chrome.runtime.onMessage.addListener(this.button.bind(this)):setTimeout(this.button.bind(this),500)},button:function(t,i,e){if(t&&t.article)return void $("body").trigger("article-data-ready",[t.article]);var n=window.FF.visible?"ex-hide":"ex-show";$("body").trigger(n)}};i.init()}(window);
},{}],5:[function(require,module,exports){
!function(t){var i={init:function(){this.preparePage(),this.getUITemplate(),this.events()},events:function(){$("body").on("ex-show",this.show.bind(this)).on("ex-hide",this.hide.bind(this))},preparePage:function(){this.$page=$("body").wrapInner('<div class="FF_bodywrap"></div>')},getUITemplate:function(){var i;i=t.FF.ext?chrome.extension.getURL("templates/ui.html"):"templates/ui.html",$.get(i,this.storeTemplate.bind(this))},storeTemplate:function(t){this.$template=$(t),this.$template.insertAfter(".FF_bodywrap"),$("body").trigger("ui-ready"),this.setAnimations(),this.templateReady=!0},setAnimations:function(){this.animation=(new TimelineMax).pause().to(this.$template,1,{x:0})},wait:function(){this.timer=setInterval(function(){this.templateReady&&(this.show(),clearInterval(this.timer))}.bind(this),100)},toggle:function(){window.FF.visible=window.FF.visible?!1:!0},show:function(){return this.templateReady?void(this.animation.isActive()||(this.toggle(),this.animation.play(0))):void this.wait()},hide:function(){this.animation.isActive()||(this.toggle(),this.animation.reverse(0))}};i.init()}(window);
},{}],6:[function(require,module,exports){
!function(i){var n={init:function(){this.events()},events:function(){$("body").on("ui-ready",this.triggerUtil.bind(this))},triggerUtil:function(){this.rangeslider()},rangeslider:function(){$('[type="range"]').rangeslider({polyfill:!1})}};n.init()}(window);
},{}]},{},[1])


//# sourceMappingURL=main.js.map